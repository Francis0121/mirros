(function(a){a.fn.agile_carousel=function(b){var c={timer:0,continuous_scrolling:false,transition_type:"slide",transition_time:600,number_slides_visible:1,change_on_hover:"",control_set_1:"",control_set_2:"",control_set_3:"",control_set_4:"",control_set_5:""};b=a.extend(c,b);return this.each(function(){var av=0;var aO=0;var l="";var M="";var am="";var aQ="";var A="";var R="";var h="";var I="";var aJ="";var aV="";var aK="";var aC="";var ac="";var P="ac_click";var ag="";var d="";var aX="";var ap="";var f="";var o="";var y="";var ar=false;var V="";var aH="";var q="";var aA="";var Y=b.continuous_scrolling;var N=b.carousel_outer_width;var ao=b.carousel_outer_height;var af=b.carousel_data;var aI=b.change_on_hover;var g=b.slide_width;var aP=b.slide_height;var ay=b.control_set_1;var ax=b.control_set_2;var au=b.control_set_3;var at=b.control_set_4;var aq=b.control_set_5;var w=b.no_control_set;var aL=b.persistent_content;var aU=b.number_slides_visible;var az=b.transition_type;var aw=b.transition_time;var aa=b.timer;var K="";var G="";var ak="";var O="";var ad="";var aT="";a.each(af,function(i,j){aO++});var D=aO%aU;var aD=[];var z="";function x(i){if(aI!==""){P="ac_click";var j=aI.split(",");if(a.inArray(i,j)!=-1){P="ac_hover"}}return P}var X=0;var Z=0;for(Z=0;Z<aO;Z++){if(Z===0){aQ+="<div class='group_numbered_buttons_container button_container'>"}var n=Math.floor((Z+1)/aU)*aU+1;if(n!==z&&n<=aO){aD[X]=n;aQ+="<div class='slide_number_"+n+" group_numbered_button slide_button "+x("group_numbered_buttons")+'\' data-options=\'{"button_type":"group_numbered_button","button_action":"direct","go_to":'+n+', "trigger_type":"'+P+'","disabled": false}\'>'+(X+1)+"</div>";z=n;X++}if(Z===aO-1){aQ+="</div>"}}h+='<span class=\'pause_button slide_button pause\' data-options=\'{"button_type":"pause_button","trigger_type": "none","disabled": false,"paused": false}\'>Pause</span>';I+="<span class='previous_next_button previous_button slide_button "+x("previous_button")+'\' data-options=\'{"button_type":"previous_button","button_action":"previous","trigger_type": "'+P+'","disabled": false}\'>Prev</span>';aJ+="<span class='previous_next_button next_button slide_button "+x("next_button")+'\' data-options=\'{"button_type":"next_button","button_action":"next","trigger_type": "'+P+'","disabled": false}\'>Next</span>';aV+="<div class='hover_previous_next_button hover_previous_button slide_button "+x("hover_previous_button")+'\' data-options=\'{"button_type":"hover_previous_button","button_action":"previous","trigger_type": "'+P+"\",\"disabled\": false}'><span style='opacity: 0;' class='hover_previous_next_button_inner'>Prev</span></div>";aK+="<div class='hover_previous_next_button hover_next_button slide_button "+x("hover_next_button")+'\' data-options=\'{"button_type":"hover_next_button","button_action":"next","trigger_type": "'+P+"\",\"disabled\": false}'><span style='opacity: 0;' class='hover_previous_next_button_inner'>Next</span></div>";aC+="<span class='slide_count'>"+aO+"</span>";ac+="<span class='current_slide_number'>1</span>";l+="<div class='agile_carousel' style='overflow: hidden; position: relative; width: "+N+"px; height: "+ao+"px;'>";var m=a(this);Z=1;for(var ai in af){if(af.hasOwnProperty(ai)){G=af[ai];K=G.content;var s=G.thumbnail_button;ak=G.content_button;if(Z===1){l+="<div class='slides' style='width: "+g*aO+"px; height: "+aP+"px;'>"}if(K){l+="<div class='slide_"+Z+" slide' style='border: none; margin: 0; padding: 0; height: "+aP+"px; width: "+g+"px;'>"+K+"</div>"}if(Z===aO){l+="</div>"}if(Z==1){am+="<div class='numbered_buttons_container  button_container'>"}am+="<div class='slide_number_"+Z+" numbered_button slide_button "+x("numbered_buttons")+'\' data-options=\'{"button_type":"numbered_button","button_action":"direct","go_to":'+Z+', "trigger_type":"'+P+'","disabled": false}\'>'+Z+"</div>";if(Z==aO){am+="</div>"}if(s){if(Z==1){A+="<div class='thumbnail_buttons_container  button_container'>"}A+="<div class='slide_number_"+Z+" thumbnail_button slide_button "+x("thumbnails")+'\'  data-options=\'{"button_type":"thumbnail_button","button_action":"direct","go_to":'+Z+',"trigger_type": "'+P+'","disabled": false}\'>'+s+"</div>";if(Z==aO){A+="</div>"}}if(ak){if(Z==1){R+="<div class='content_buttons_container  button_container'>"}R+="<div class='slide_number_"+Z+" content_button_"+Z+" content_button slide_button "+x("content_buttons")+'\' data-options=\'{"button_type":"content_button","button_action":"direct","go_to":'+Z+',"trigger_type": "'+P+"\",\"disabled\": false}'><div class='content_button_inner'>"+ak+"</div></div>";if(Z==aO){R+="</div>"}}Z++}}var e=function(aZ,j){var k="";if(aZ!==""){if(j){k+="<div class='control_set_"+j+" control_set'><div class='control_set_"+j+"_inner control_set_inner'>"}var i=aZ.split(",");for(X=0;X<i.length;X++){if(i[X]=="numbered_buttons"){k+=am}if(i[X]=="group_numbered_buttons"){k+=aQ}if(i[X]=="thumbnails"){k+=A}if(i[X]=="content_buttons"){k+=R}if(i[X]=="pause_button"){k+=h}if(i[X]=="previous_button"){k+=I}if(i[X]=="next_button"){k+=aJ}if(i[X]=="hover_previous_button"){k+=aV}if(i[X]=="hover_next_button"){k+=aK}if(i[X]=="slide_count"){k+=aC}if(i[X]=="current_slide_number"){k+=ac}}if(j){k+="</div></div>"}l+=k}};if(b.control_set_1){e(ay,1)}if(b.control_set_2){e(ax,2)}if(b.control_set_3){e(au,3)}if(b.control_set_4){e(at,4)}if(b.control_set_5){e(aq,5)}if(b.no_control_set){e(w)}if(aL){l+=aL}l+="</div>";m.html(l);var aN=m.find(".slide");var ae=m.find(".slides");var aW=m.find(".slide_button");var u=aW.length;var S=m.find(".agile_carousel");var aG=m.find(".previous_button, .hover_previous_button");var H=aG.length;var al=m.find(".next_button, .hover_next_button");var aF=m.find(".previous_button");var Q=aF.length;var ab=m.find(".hover_previous_button");var L=ab.length;var J=m.find(".next_button");var an=J.length;var aM=m.find(".hover_next_button");var aR=aM.length;function aE(i){if(Y===false&&aU<2){if(i==1){if(Q>0){aF.addClass("ac_disabled");aF.data("options").disabled=true}if(L>0){ab.addClass("ac_disabled");ab.data("options").disabled=true}}else{if(Q>0){aF.removeClass("ac_disabled");aF.data("options").disabled=false}if(L>0){ab.removeClass("ac_disabled");ab.data("options").disabled=false}}if(i==aO){if(an>0){J.addClass("ac_disabled");J.data("options").disabled=true}if(aR>0){aM.addClass("ac_disabled");aM.data("options").disabled=true}}else{if(an>0){J.removeClass("ac_disabled");J.data("options").disabled=false}if(aR>0){aM.removeClass("ac_disabled");aM.data("options").disabled=false}}}if(Y===false&&aU>1){if(i<=aU){if(Q>0){aF.addClass("ac_disabled");aF.data("options").disabled=true}if(L>0){ab.addClass("ac_disabled");ab.data("options").disabled=true}}else{if(Q>0){aF.removeClass("ac_disabled");aF.data("options").disabled=false}if(L>0){ab.removeClass("ac_disabled");ab.data("options").disabled=false}}if(i>=(aO-aU+D)){if(an>0){J.addClass("ac_disabled");J.data("options").disabled=true}if(aR>0){aM.addClass("ac_disabled");aM.data("options").disabled=true}}else{if(an>0){J.removeClass("ac_disabled");J.data("options").disabled=false}if(aR>0){aM.removeClass("ac_disabled");aM.data("options").disabled=false}}}}var aB=m.find(".current_slide_number");var p=aB.length;function B(i){if(p>0){aB.html(i)}}function aS(i){m.find(".ac_selected").removeClass("ac_selected");m.find(".slide_number_"+i).addClass("ac_selected")}if(aU==1){aN.eq(0).css({position:"absolute",top:0,left:0});aN.slice(1,aO).css({position:"absolute",top:"-5000px",left:0});ae.css("width",g+"px")}if(aU>1){S.css("width",aU*g+"px");var W=0;for(W=1;W<=aO;W++){aN.eq(W).css({position:"absolute",top:0,left:g*W+"px"})}}var U=function(){q.css({"z-index":10,top:-5000})};var T=function(){q.css({position:"absolute",top:"-5000px",left:0})};aE(1);B(1);aS(1);d=ag.button_type;y=1;var v=aD[aD.length-1];function ah(aZ){ag=a(aZ)[0];var i=ag.disabled;if(i!==true){d=ag.button_type;aX=ag.trigger_type;ap=ag.button_action;var k=ag.go_to;i=ag.disabled;if(ar!==false){y=ar}V=y-1;q=a(aN).eq(V);if(aU<2){if(ap=="next"&&y<aO){ar=y+1}else{if(ap=="next"&&y==aO){ar=1}}if(ap=="previous"&&y>1){ar=y-1}else{if(ap=="previous"&&y==1){ar=aO}}}if(aU>1){if(ap=="next"&&y<(aO-aU+D)){ar=aD[Math.ceil(y/aU)]}else{if(ap=="next"&&y>=(aO-aU+D)&&aU>1){ar=1}}if(ap=="previous"&&y>aU&&aU>1){var a0=Math.floor(y/aU);a0=a0-1;ar=aD[a0]}else{if(ap=="previous"&&y<=aU&&aU>1){ar=v}}}if(ap=="direct"){ar=k}aH=ar-1;aA=a(aN).eq(aH);aS(ar);B(ar);if(aH!=V){if(az=="slide"&&aU>1){ae.stop().animate({left:((ar*g)-g)*-1+"px"},{duration:aw})}if(az=="slide"&&aU==1){var j="";if(ap=="next"||(ar>y)&&ap=="direct"){aA.css({top:0,left:g});j=g*-1}if(ap=="previous"||(ar<y&&ap=="direct")){aA.css({top:0,left:g*-1});j=g}q.stop().animate({left:j+"px"},{duration:aw,complete:T});aA.stop().animate({left:"0px"},{duration:aw})}if(az=="fade"&&aU==1){aN.not(q,aA).css({top:"-5000px",left:0,"z-index":0,opacity:0});if(ap){aA.css({top:0,left:0,"z-index":20});q.css({"z-index":10,opacity:1})}aA.stop().animate({opacity:1},{duration:aw,complete:U})}}}aE(ar);aS(ar)}var aj=m.find(".ac_click");var aY=m.find(".ac_hover");if(aa!==0){aT=setInterval(E,aa)}var r=m.find(".pause_button");function C(){if(r.length>0){r.html("play");r.data("options").paused=true;r.addClass("play_button")}clearInterval(aT)}a(aj).click(function(){C();if(m.find(":animated").length<1){ah(a(this).data().options)}else{O=a(this);if(O.data("options").button_action!="next"&&O.data("options").button_action!="previous"){function i(){if(ae.find(":animated").length<1){ah(O.data().options);clearInterval(O.data("options").timeout)}}t=setInterval(i,30);O.data("options").timeout=t}}});a(aY).hover(function(){C();if(ae.find(":animated").length<1){ah(a(this).data().options)}else{O=a(this);function i(){if(ae.find(":animated").length<1){ah(O.data().options);clearInterval(O.data("options").timeout)}}t=setInterval(i,30);O.data("options").timeout=t}},function(){O=a(this);clearInterval(O.data("options").timeout)});ad={button_action:"next",button_type:"pause",disabled:false,trigger_type:"ac_click"};function E(){ah(ad)}function F(){clearInterval(aT);r.html("pause");r.data("options").paused=false;r.addClass("pause_button");r.removeClass("play_button");ah(ad);aT=setInterval(E,aa);return aT}r.click(function(){var i=a(this);if(i.data("options").paused===true){F()}else{if(i.data("options").paused===false){C();clearInterval(aT)}}});a(".hover_previous_next_button").hover(function(){a(this).find(".hover_previous_next_button_inner").stop().fadeTo("fast",0.85)},function(){a(this).find(".hover_previous_next_button_inner").stop().fadeTo("fast",0)})})}})(jQuery);